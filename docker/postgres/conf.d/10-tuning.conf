# --- Extensions (library load happens at server start) ---
shared_preload_libraries = 'pg_stat_statements'

# --- WAL / checkpoints (smoother IO) ---
checkpoint_timeout = '15min'
checkpoint_completion_target = 0.9
max_wal_size = '2GB'
min_wal_size = '512MB'
wal_compression = on

# --- IO / planner (SSD-friendly) ---
random_page_cost = 1.1
effective_io_concurrency = 200

# --- Autovacuum (more aggressive than defaults) ---
autovacuum_naptime = '10s'
autovacuum_vacuum_scale_factor = 0.05
autovacuum_analyze_scale_factor = 0.02

# --- Connections / memory ---
max_connections = 100
shared_buffers = 512MB
effective_cache_size = 1536MB
work_mem = 4MB
maintenance_work_mem = 256MB

# WAL buffers
wal_buffers = 16MB
